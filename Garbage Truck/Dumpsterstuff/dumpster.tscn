[gd_scene load_steps=15 format=3 uid="uid://csi37e5uftwr7"]

[ext_resource type="ArrayMesh" uid="uid://b64hsb6b45x1b" path="res://Garbage Truck/Dumpsterstuff/Meshs/dumpsterMesh.res" id="1_v21p7"]
[ext_resource type="Script" path="res://Garbage Truck/Dumpsterstuff/dumpster.gd" id="1_vugvx"]
[ext_resource type="ArrayMesh" uid="uid://cvrpolvauxxmj" path="res://Garbage Truck/Meshs/lidMesh.res" id="2_5p6oo"]
[ext_resource type="ArrayMesh" uid="uid://ca6jnuwswp8md" path="res://Garbage Truck/Dumpsterstuff/Meshs/topperMesh.res" id="4_7r0qq"]

[sub_resource type="BoxShape3D" id="BoxShape3D_rdmlk"]
size = Vector3(2.78595, 0.554199, 3.05902)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_8x2tn"]
points = PackedVector3Array(2.47129, 1.53579, 0.501152, 2.47129, -0.728492, 0.501152, 2.47129, 1.53579, 0.415792, -2.47136, 1.53579, 0.501152, 2.44807, -0.903609, 0.501152, 2.47129, -0.728492, 0.206692, 2.47129, 1.51665, 0.321554, -2.47136, 1.53579, 0.415792, -2.47136, -0.728492, 0.501152, 2.41275, -1.03605, 0.501152, 2.44807, -0.903609, 0.206692, 2.42146, -0.898274, 0.167954, 2.47129, -0.520422, 0.182327, 2.47129, 1.46016, 0.273419, -2.47136, 1.51665, 0.321554, -2.44862, -0.903609, 0.501152, -2.47136, -0.728492, 0.206692, 2.37114, -1.13553, 0.501152, 2.41275, -1.03605, 0.206692, 2.38663, -1.02757, 0.167954, 2.31647, -1.00341, 0.131883, 2.34841, -0.883838, 0.131883, 2.47129, 0.176281, 0.123761, 2.47129, 1.36946, 0.248616, -2.47136, 1.46016, 0.273419, -2.44862, -0.903609, 0.206692, -2.4133, -1.03605, 0.501152, -2.47136, -0.520422, 0.182327, -2.42201, -0.898274, 0.167954, 2.30293, -1.25447, 0.501152, 2.37114, -1.13553, 0.206692, 2.34695, -1.1236, 0.167954, 2.28019, -1.09065, 0.131883, 1.96958, -1.10226, 0.0944187, 1.9928, -1.04609, 0.0950956, 2.19794, 0.507686, 0.107836, 2.19794, 0.570452, 0.109309, 2.47129, 0.422638, 0.133356, 2.47129, 1.10428, 0.199407, 2.11908, 0.649851, 0.114166, -2.47136, 1.36946, 0.248616, -2.4133, -1.03605, 0.206692, -2.37169, -1.13553, 0.501152, -2.47136, 0.176281, 0.123761, -2.34895, -0.883838, 0.131883, -2.31702, -1.00341, 0.131883, -2.38718, -1.02757, 0.167954, 2.30293, -1.25447, 0.206692, 2.23713, -1.33952, 0.501152, 2.28019, -1.23909, 0.167954, 2.21826, -1.19798, 0.131883, 2.16117, -1.27267, 0.131883, 2.07311, -1.36023, 0.131883, 1.99861, -1.41766, 0.131883, 1.8912, -1.4798, 0.131883, 1.80411, -1.51589, 0.131883, 1.7717, -1.41986, 0.120576, 1.66477, -1.44842, 0.120576, 1.91346, -1.12549, 0.0956131, -1.97013, -1.10226, 0.0944187, -2.19849, 0.507686, 0.107836, 2.17472, 0.626627, 0.111897, 2.47129, 0.773814, 0.152586, -2.19849, 0.570452, 0.109309, -2.11963, 0.649851, 0.114166, -2.47136, 1.10428, 0.199407, -2.3475, -1.1236, 0.167954, -2.37169, -1.13553, 0.206692, -2.30348, -1.25447, 0.501152, -2.47136, 0.422324, 0.133356, -1.99335, -1.04609, 0.0950956, -2.28074, -1.09065, 0.131883, 2.23713, -1.33952, 0.206692, 2.21681, -1.32163, 0.167954, 2.14037, -1.43681, 0.501152, 2.12246, -1.41641, 0.167954, 2.03973, -1.47949, 0.167954, 1.9241, -1.54633, 0.167954, 1.82782, -1.58619, 0.167954, 1.69913, -1.62071, 0.167954, 1.68461, -1.5479, 0.131883, 1.52253, -1.56924, 0.131883, 1.51576, -1.46788, 0.120576, -3.26633e-05, -1.46788, 0.120536, -1.914, -1.12549, 0.0956131, -1.66532, -1.44842, 0.120576, -1.77225, -1.41986, 0.120576, -1.80466, -1.51589, 0.131883, -1.89175, -1.4798, 0.131883, -1.99916, -1.41766, 0.131883, -2.07366, -1.36023, 0.131883, -2.16172, -1.27267, 0.131883, -2.21881, -1.19798, 0.131883, -2.17526, 0.626627, 0.111897, -2.47136, 0.773814, 0.152586, -2.28074, -1.23909, 0.167954, -2.30348, -1.25447, 0.206692, -2.23768, -1.33952, 0.501152, 2.14037, -1.43681, 0.206692, 2.05473, -1.50208, 0.501152, 2.05473, -1.50208, 0.206692, 1.93619, -1.57081, 0.206692, 1.83653, -1.61192, 0.206692, 1.70396, -1.64739, 0.206692, 1.52737, -1.64331, 0.167954, -1.52308, -1.56924, 0.131883, -1.51631, -1.46788, 0.120576, -1.68516, -1.5479, 0.131883, -1.69967, -1.62071, 0.167954, -1.82837, -1.58619, 0.167954, -1.92465, -1.54633, 0.167954, -2.04028, -1.47949, 0.167954, -2.12301, -1.41641, 0.167954, -2.21736, -1.32163, 0.167954, -2.23768, -1.33952, 0.206692, -2.14091, -1.43681, 0.501152, 1.93619, -1.57081, 0.501152, 1.83653, -1.61192, 0.501152, 1.70396, -1.64739, 0.501152, 1.52882, -1.6703, 0.206692, -1.52792, -1.64331, 0.167954, -1.70451, -1.64739, 0.206692, -1.83708, -1.61192, 0.206692, -1.93674, -1.57081, 0.206692, -2.05528, -1.50208, 0.206692, -2.14091, -1.43681, 0.206692, -2.05528, -1.50208, 0.501152, 1.52882, -1.6703, 0.501152, -1.52937, -1.6703, 0.206692, -1.70451, -1.64739, 0.501152, -1.83708, -1.61192, 0.501152, -1.93674, -1.57081, 0.501152, -1.52937, -1.6703, 0.501152)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_0o3qv"]
points = PackedVector3Array(2.01876, 1.94761, 2.78565, -0.0485899, -1.2795, 2.03919, 1.46824, -1.23606, 2.05005, 0.0330812, -0.991956, 2.8559, -0.0758135, 2.16158, 2.37681, 1.99319, -0.756498, 2.8559, 2.10567, -0.530844, 1.98883, 0.0425007, 1.73908, 2.85213, 2.10208, 2.16158, 2.37681, 1.4486, -1.16461, 2.78062, -0.0758135, -0.625858, 2.0283, 1.98377, 1.73908, 2.85213, 2.31549e-05, 2.04024, 2.70696, 0.0200892, -1.16961, 2.78162, 2.06882, -0.847228, 2.04161, 2.13598, -0.479017, 2.01474, 2.02625, 2.04024, 2.70696, 0.00751417, 1.94761, 2.78565, 1.52254, -0.991956, 2.8559, 1.91472, -0.835086, 2.8559)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ppqsc"]
points = PackedVector3Array(0.0326762, -1.2795, -2.44162, 2.16703, -0.425925, 2.16859, -0.190929, -0.694922, 2.08398, 2.10208, -0.451899, -2.67596, 1.49216, -1.32289, 2.0283, 1.49216, -1.32289, -2.67596, -0.0758135, -0.887436, -2.67596, 0.0326762, -1.2795, 1.79396, 2.01489, -0.974492, -2.67596, 2.01489, -0.974492, 2.0283, 2.01489, -0.451899, -2.67596)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_hspei"]
points = PackedVector3Array(-0.145583, 2.04024, 2.70696, -2.01318, -0.882231, 2.05712, -1.45167, -1.24455, 2.04793, -1.9793, -0.835086, 2.8559, -2.07948, 2.16158, 2.37681, -0.100859, -1.2795, 2.03919, -0.175997, -0.991956, 2.8559, -1.97063, 1.73908, 2.85213, -0.0758135, 2.16158, 2.37681, -2.04436, -0.593524, 2.00346, -1.46932, -1.32306, 2.81231, -0.184663, 1.73908, 2.85213, -0.0758135, -0.625858, 2.0283, -0.164044, -1.16961, 2.78162, -2.00282, 1.94761, 2.78565, -2.09265, -0.551474, 2.02257, -2.00971, 2.04024, 2.70696, -0.152475, 1.94761, 2.78565)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_7i0sr"]
points = PackedVector3Array(-2.07948, -0.974509, -2.67596, -0.0583367, -0.709568, 2.06933, -0.0758135, -1.32306, 2.0283, -2.07988, -0.501511, 2.2538, -0.0758135, -0.887564, -2.67596, -1.9922, -0.539092, -2.67596, -1.46932, -1.32306, 2.0283, -0.0758135, -1.32306, -2.67596, -1.46932, -1.32306, -2.67596, -2.07948, -0.974509, 2.0283, -2.07948, -0.539092, -2.67596, -2.10732, -0.5282, 2.09366, -0.0758135, -0.713366, 1.85378)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_62akp"]
points = PackedVector3Array(2.45048, -0.538879, 2.89946, 2.11227, -0.816731, -2.54659, 2.10217, -0.364579, -2.67596, 2.53762, 2.16158, -2.67596, 2.10217, 2.16158, 2.37663, 2.53762, 2.16158, 2.72482, 2.53762, -0.277429, -2.67596, 2.11227, -0.816731, 2.77009, 2.27637, 2.16158, -2.67596, 2.53762, -0.277429, 2.89946, 2.10786, 1.86712, 2.82661, 2.36338, -0.713179, -2.67596, 2.27637, -0.800329, 2.89946, 2.53762, 1.90013, 2.89946, 2.27637, -0.800329, -2.67596, 2.45048, -0.538879, -2.67596, 2.36338, -0.713179, 2.89946, 2.11085, 2.10081, 2.62066)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_qwmsu"]
points = PackedVector3Array(-2.51506, 2.07443, 2.81214, -2.25374, 2.16158, -2.67596, -2.08517, 1.86712, 2.82661, -2.42791, -0.626029, 2.89946, -2.51506, -0.451729, -2.67596, -2.08684, -0.835948, 2.80523, -2.51506, 2.16158, -2.67596, -2.07948, -0.364579, -2.67596, -2.07948, 2.16158, 2.37663, -2.51506, -0.451729, 2.89946, -2.08684, -0.835948, -2.58173, -2.42791, -0.626029, -2.67596, -2.51506, 2.16158, 2.72482, -2.51506, 1.90013, 2.89946, -2.08816, 2.10081, 2.62066)

[sub_resource type="BoxShape3D" id="BoxShape3D_qyg7c"]
size = Vector3(2.7652, 0.356445, 3.01147)

[sub_resource type="BoxShape3D" id="BoxShape3D_8s1s5"]
size = Vector3(2.76831, 1.59888, 0.235107)

[node name="Dumpster" type="RigidBody3D"]
collision_layer = 2
collision_mask = 29
script = ExtResource("1_vugvx")
maxSpace = 50.0
mintopperHeight = 1.121
maxtopperHeight = 2.904
topperScaleHeight = 1.388
minTopperScaleHeight = 1.205

[node name="mainJoint" type="JoltHingeJoint3D" parent="."]
limit_enabled = true
limit_lower = -2.26893
motor_max_torque = 10.0
node_a = NodePath("..")
node_b = NodePath("../Lid")
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 2.05004, -1.57474)

[node name="pickupArea" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="pickupArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0154114, 0.499779, -0.0569763)
shape = SubResource("BoxShape3D_rdmlk")

[node name="Lid" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.13863, -2.17105)
collision_layer = 2
collision_mask = 18

[node name="LidMesh" type="MeshInstance3D" parent="Lid"]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0, 0.290233)
mesh = ExtResource("2_5p6oo")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Lid"]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0, 0.290233)
shape = SubResource("ConvexPolygonShape3D_8x2tn")

[node name="DumpsterMesh" type="MeshInstance3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.766, 0)
mesh = ExtResource("1_v21p7")
skeleton = NodePath("../..")

[node name="_CollisionShape3D_26151" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.766, 0)
shape = SubResource("ConvexPolygonShape3D_0o3qv")

[node name="@CollisionShape3D@26150" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.766, 0)
shape = SubResource("ConvexPolygonShape3D_ppqsc")

[node name="@CollisionShape3D@26149" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.766, 0)
shape = SubResource("ConvexPolygonShape3D_hspei")

[node name="@CollisionShape3D@26148" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.766, 0)
shape = SubResource("ConvexPolygonShape3D_7i0sr")

[node name="@CollisionShape3D@26147" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.766, 0)
shape = SubResource("ConvexPolygonShape3D_62akp")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.766, 0)
shape = SubResource("ConvexPolygonShape3D_qwmsu")

[node name="TopperMesh" type="MeshInstance3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 1.20502, -0.197)
mesh = ExtResource("4_7r0qq")

[node name="TrashCol" type="Area3D" parent="."]
collision_layer = 28
collision_mask = 28

[node name="CollisionShape3D" type="CollisionShape3D" parent="TrashCol"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.393158, -0.0730557)
shape = SubResource("BoxShape3D_qyg7c")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="TrashCol"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0020752, 1.23816, -1.47898)
shape = SubResource("BoxShape3D_8s1s5")

[node name="DumpTimer" type="Timer" parent="."]

[connection signal="body_entered" from="TrashCol" to="." method="_on_trash_col_body_entered"]
[connection signal="timeout" from="DumpTimer" to="." method="_on_dump_timer_timeout"]
